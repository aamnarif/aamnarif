/*!CK:4135420365!*//*1442198331,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["Q7XaA"]); }

__d('ScrollColumn.react',['cx','invariant','throttle','tidyEvent','Arbiter','Event','React','ReactDOM','Vector','ViewportBounds'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){if(c.__markCompiled)c.__markCompiled();var r=n.PropTypes,s='ScrollColumn/adjust',t=n.createClass({displayName:'ScrollColumn',propTypes:{topOffset:r.number,zIndex:r.number},getDefaultProps:function(){return {topOffset:0,zIndex:0};},_scroll:0,_scrollDelta:0,getInitialState:function(){return {fixed:null,fixedBottom:0,fixedTop:this.props.topOffset,top:0};},render:function(){var u='auto',v=this.state.fixedLeft,w='auto';if(this.state.fixed==='bottom'){u=this.state.fixedBottom;}else if(this.state.fixed==='top'){w=this.state.fixedTop;}else{v='auto';w=this.state.top;}return (n.createElement('div',{className:"_5ss7",ref:'container'},n.createElement('div',{className:"_5ss8"+(this.state.fixed?' '+"fixed_always":''),ref:'column',style:{bottom:u,left:v,top:w,zIndex:this.props.zIndex}},this.props.children)));},componentDidMount:function(){this.setState({adjustEventListener:k(l.subscribe(s,(function(){this._adjust();}).bind(this))),resizeListener:k(m.listen(window,'resize',j(this._adjust))),scrollListener:k(m.listen(window,'scroll',this._onScroll)),viewportBoundsUpdateListener:k(q.subscribe('change',this._adjust))});this._adjust();},componentDidUpdate:function(u,v){if(v.fixed!==this.state.fixed)l.inform('reflow');},componentWillUnmount:function(){this.state.adjustEventListener.unsubscribe();this.state.resizeListener.remove();this.state.scrollListener.remove();},_onScroll:function(event){var u=p.getScrollPosition().y;this._scrollDelta=u-this._scroll;this._scroll=u;this._adjust();},_adjust:function(){if(!this.isMounted())return;this._updateContainerHeight();this._updateColumnWidth();if(this._isContainerBelowViewportTop()){this._setNotFixed(0);return;}if(!this._isColumnLargerThanViewport()){this._setFixedToTop();return;}if(this._scrollDelta>0)if(this._isBottomOfColumnVisible()){this._setFixedToBottom();return;}if(this._scrollDelta<0)if(this._isTopOfColumnVisible()){this._setFixedToTop();return;}var u=this._getTopPositionForRef('column'),v=this._getTopPositionForRef('container'),w=u-v;this._setNotFixed(w);},_getTopPositionForRef:function(u){var v=this.refs[u];!v?i(0):undefined;var w=p.getElementPosition(o.findDOMNode(v),'viewport').y;if(this._scroll<0)w+=this._scroll;return w;},_getTopBoundWithOffset:function(){return q.getTop()+this.props.topOffset;},_isContainerBelowViewportTop:function(){var u=this._getTopPositionForRef('container');return u>=this._getTopBoundWithOffset();},_isColumnLargerThanViewport:function(){var u=p.getViewportDimensions().y-q.getBottom()-this._getTopBoundWithOffset();return o.findDOMNode(this.refs.column).offsetHeight>u;},_isBottomOfColumnVisible:function(){var u=this._getTopPositionForRef('column'),v=p.getElementDimensions(o.findDOMNode(this.refs.column),'viewport').y,w=u+v;return w<=p.getViewportDimensions().y-q.getBottom();},_isTopOfColumnVisible:function(){var u=this._getTopPositionForRef('column');return u>=this._getTopBoundWithOffset();},_getFixedLeft:function(){return (p.getElementPosition(o.findDOMNode(this.refs.container),'viewport').x);},_setFixedToBottom:function(){this.setState({fixed:'bottom',fixedBottom:q.getBottom(),fixedLeft:this._getFixedLeft()});},_setFixedToTop:function(){this.setState({fixed:'top',fixedLeft:this._getFixedLeft(),fixedTop:this._getTopBoundWithOffset()});},_setNotFixed:function(u){this.setState({fixed:false,top:u});},_updateContainerHeight:function(){o.findDOMNode(this.refs.container).style.height=o.findDOMNode(this.refs.column).offsetHeight+'px';},_updateColumnWidth:function(){o.findDOMNode(this.refs.column).style.width=o.findDOMNode(this.refs.container).offsetWidth+'px';}});t.EVENT_SHOULD_ADJUST=s;f.exports=t;},null);
__d('ScrollColumnRenderer',['DOMContainer.react','React','ReactRenderer','ScrollColumn.react'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l={init:function(m,n,o){j.constructAndRenderComponentAcrossTransitions(k,babelHelpers._extends({children:[i.createElement(h,{key:'content'},m)]},o),n);}};f.exports=l;},null);